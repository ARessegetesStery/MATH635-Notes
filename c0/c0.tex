\documentclass{article}
\usepackage{../refalg}

\begin{document}
\Makepagesectionhead{MATH 635}{Basic Definitions and Results}{ARessegetes Stery}

\tableofcontents
\newpage

\def\open{\mathcal{O}}

Here lists some definitions that are assumed to be familiar to students in the lecture. They are listed for an acquaintance with the basic definitions, and for lookup.

\section{Setup of the Structure}

\subsection{Preliminary Results from Calculus}

This section is dedicated to proving the following two theorems, which has various implications in differential geometry:

\begin{theorem}[Inverse Function Theorem]\label{thm: inverse function theorem}
    Let $X$, $Y$ be finite-dimensional normed vector space, $\Omega \subseteq X$ an open set, and $f: \Omega \to Y$ a continuously differentiable function. Let $x_0 \in \Omega$. If $\restr{Df}{x_0}$ is invertible, then $f$ is locally $C^{1}$-invertible at $x_0$ (i.e. $f^{-1}$ is $C^1$-continuous), whose derivative satisfies
    \[
        \restr{Df^{-1}}{f(x)} = (\restr{Df}{x})^{-1}
    \]
\end{theorem}
\vspace{1em}

\begin{theorem}[Implicit Function Theorem]\label{thm: implicit function theorem}
    Let $\Omega \subseteq \R^n \times R^m$ be open, with $F \in C^1{\Omega, \R^m}$ s.t. $F(x_0, y_0) = 0$ for $(x_0, y_0) \in \Omega$. If
    \[
        \det \restr{DF(x_0, -)}{y_0} \neq 0
    \]
    then there exists $\varepsilon \in \R$, and $g \in C^1(B_{\varepsilon}(x_0), \R^m)$ s.t.
    \[
        F(x, g(x)) = 0 \qquad \qquad \forall \ x \in B_{\varepsilon}(x_0)
    \]
\end{theorem}

The general setup is to first prove the inverse function theorem, and use it to vastly simplify the proof for the implicit function theorem. An alternative approach is to first prove the implicit function theorem, and then express the derivative of the inverse function in an implicit manner. 

First setup some lemmas for further use in the proof:

\begin{lemma}[Contraction Mapping Principle]\label{lem: contraction mapping principle}
    Let $X$ be a complete normed vector space, and $M$ be a closed subset of $X$. If $f: M \to M$ is Lipschitz continuous with Lipschitz constant less than 1 (a contraction), then there exists a unique $x_0 \in M$ s.t. $f(x_0) = x_0$.
\end{lemma}

\begin{proof}
    Since $X$ is complete and $M$ is closed, it suffices to prove that the sequence given by $(a_n) := f^n(x)$ is Cauchy. The limit must lie in $M$ as otherwise $M$ is not equal to its closure. By hypothesis there exists $C \in [0, 1)$ s.t.
    \[
        \abs{f^2(x) - f(x)} < C \cdot \abs{f(x) - x} \qquad \qquad \forall \ x \in M
    \]
    This gives the approximation
    \[
        \abs{f^m(x) - x} < \sum_{k=0}^{m-1} C^k \abs{f(x) - x} < \left( \sum_{k=0}^{\infty} C^k \right) \cdot \abs{f(x) - x} = \frac{1}{1 - C} \cdot \abs{f(x) - x}
    \]
    which implies that $f^m(x)$ is bounded for all $m$. Further for $m < n$ we have
    \[
        \abs{f^n(x) - f^m(x)} \leq \sum_{k=m}^{n-1} \abs{f^{k+1}(x) - f^k(x)} < \sum_{k=m}^{n-1} C^k \abs{f(x) - x} < C^m \left(\sum_{k=0}^{\infty} C^k \abs{f(x) - x}\right) = \frac{C^m}{1 - C}\abs{f(x) - x}
    \]
    which can be arbitrarily small via specifying $m$ to be arbitrarily large. Therefore $(a_n)$ admits a limit $a$. Then 
    \[
        a = \lim_{n \to \infty} a_n = \lim_{n \to \infty} f(a_n) = f(\lim_{n \to \infty} a_n) = f(a)
    \]
    since $f$ is continuous (as it is Lipschitz continuous), it commutes with taking the limit.

    Uniqueness follows from the fact that if there exists $x_0 \neq x_1$ s.t. $f(x_0) = x_0, f(x_1) = x_1$, then $\abs{x_0 - x_1} = \abs{f(x_0) - f(x_1)}$ which contradicts with the hypothesis.
\end{proof}

\begin{lemma}\label{lem: map norm invertible}
    Let $X$ be a normed vector space, with $L \in \{L \in \GL(X) \mid \norm{L} < 1\}$ then $(\Id - L) \in \GL(X)$. 
\end{lemma}

\begin{proof}
    Consider the series $S = \sum_{i=k}^{\infty} L^k$. This converges as
    \[
        \norm{S} \leq \sum_{i=k}^{\infty} \norm{L}^k = \frac{1}{1 - \norm{L}}
    \]
    which is finite and well-defined as $\norm{L} \in [0, 1)$. Then consider
    \[
        \lim_{n \to \infty}(\Id - L)\cdot S = \Id - \lim_{n \to \infty} L^n = \Id
    \]
    as $\norm{L} < 1$. 
\end{proof}

\begin{proof}[Proof of Theorem \ref{thm: inverse function theorem}]
    Without loss of generality, assume $\restr{Df}{x_0} = \Id$; and $x_0 = 0, f(x_0) = 0$. These are done via applying an affine transformation, which preserves the property of being $C^1$-invertible. 

    Consider the approximation of $f$ near $x_0 = 0$: let $g(x) = f(x) - x$. Since $g(0) = 0$ and both $f$ and $\Id$ are continuous, there exists $r$ s.t. $\closure{B_r(x)} \subseteq \Omega$, and $\norm{\restr{Dg}{x}} \leq \frac{1}{2}$ for all $x \in \Omega$. This implies that $g$ is a contraction in $\closure{B_r(0)}$, as
    \[
        g(x) - g(0) = \int_{0}^{x} \restr{Dg}{t} \d t = \int_{0}^{1} \restr{Dg}{xt} x \d t = x\cdot \int_{0}^{1} \restr{Dg}{xt} \d t \implies 
        \norm{g(x)} \leq \sup_{t \in [0, 1]} \norm{\restr{Dg}{xt}} \cdot \norm{x} = \frac{1}{2} \norm{x}
    \]
    This implies that $f$ maps surjectively onto $\closure{B_{r/2}(0)}$: consider $h := y + g(x)$, which is a map from $\closure{B_r(0)}$ to itself. $h$ is also a contraction as
    \[
        \norm{h(x_1) - h(x_2)} = \norm{g(x_1) - g(x_2)} \leq \frac{1}{2} \norm{x_1 - x_2}
    \] 
    Further the space on which $h$ acts is closed.\footnote{The point of taking the closure of $B_r(0)$ in the construction is to apply the contraction mapping principle here, as it requires the space to be closed.} This implies that there exists a fixed point $x_0$ for $h$; but this implies a preimage:
    \[
        x_0 = y + x_0 - f(x_0) \implies f(x_0) = y
    \]
    Then $f$ is a bijection on $\Omega_1 \to f(\Omega_1)$, where $\Omega_1 = f^{-1} B_{r/2}(0) \cap B_r(0)$. The continuity of $f$, and the fact that $g$ is a contraction is preserved through restriction of domain. Therefore we have
    \begin{align*}
        \norm{x_1 - x_2} 
        & = \norm{(f(x_1) - f(x_2)) - (g(x_1) - g(x_2))} \\
        & \leq \norm{f(x_1) - f(x_2)} + \norm{g(x_1) - g(x_2)} \\
        & \leq \norm{f(x_1) - f(x_2)} + \frac{1}{2} \norm{x_1 - x_2}
    \end{align*}
    which implies that 
    \begin{equation}\tag{$\ast$}\label{eq: linear bound on f}
        \frac{1}{2} \norm{x_1 - x_2} \leq \norm{f(x_1) - f(x_2)} \implies \norm{x_1 - x_2} = \norm{f^{-1}(y_1) - f^{-1}(y_2)} \leq 2\norm{y_1 - y_2}
    \end{equation}
    i.e. $y$ is continuous. It is safe to take the inverse as $f$ is a bijection in the domain specified. 

    Now prove the theorem. By the setup we have $\norm{\Id - \restr{Df}{x_1}} = \norm{\restr{Dg}{x_1}} \leq \frac{1}{2}$ for all $x_1 \in \Omega$, which by Lemma \ref{lem: map norm invertible} implies that $\restr{Df}{x}$ is invertible for all such $x$. Since $f$ is differentiable, there exists $\restr{Df}{x_1}$ s.t. 
    \[
        f(x) - f(x_1) = \restr{Df}{x_1} (x - x_1) + o(\norm{x - x_1})
    \]
    for $x \in B_{\eta}(x_1)$ for some $\eta$. This implies that
    \[
        (\restr{Df}{x_1})^{-1}(f(x) - f(x_1)) = (x - x_1) + o(\norm{x - x_1})
    \]
    Further restrict $x_1 \in \Omega_1$ where we have the linear bound \eqref{eq: linear bound on f}. After substituting the variables we have
    \[
        (\restr{Df}{f^{-1}(y_1)})^{-1}(y - y_1) = (f^{-1}(y) - f^{-1}(y_1)) + o(\norm{y - y_1})
    \]
    which gives by the definition of derivative
    \[
        (\restr{Df}{x})^{-1} = \restr{Df^{-1}}{f(x)} 
    \]
    Now consider the chain of functions
    \[
        y \tooh{f^{-1}} f^{-1}y \tooh{Df} \restr{Df}{f^{-1}y} \tooh{(-)^{-1}} (\restr{Df}{f^{-1}y})^{-1}
    \]
    where $Df$ is by hypothesis continuous; and $f^{-1}$ is continuous according to the proof above. This implies that the composition, which is the derivative of the inverse function, is continuous, i.e. $f$ is $C^1$-invertible.
\end{proof}

This greatly simplifies the proof of the Implicit Function Theorem:
\begin{proof}[Proof of Theorem \ref{thm: implicit function theorem}]
    Consider the map $\Phi: \R^n \times \R^m \to \R^n \times \R^m$, $(x, y) \mapsto (x, F(x, y))$. Since $\det DF = \det D\Phi \neq 0$ by Laplace expansion, which implies that $D\Phi$ is invertible. This allows application of Inverse Function Theorem, which implies that there exists $\Psi = \Phi^{-1}$ taking the form of $(x, y) \mapsto (x, G(x, y))$. Now consider specifically
    \[
        (x, 0) = \Phi \circ \Psi(x, 0) = \Phi(x, G(x, 0)) = (x, F(x, G(x, 0)))
    \]
    which implies that there exists $g := G(-, 0)$ satisfying the requirement. Since the inverse function is uniquely determined, such $g$ is also uniquely defined.
\end{proof}

\subsection{Preliminary Topology}

\begin{definition}[Topological Space]
    A \textbf{topological space} is a pair (X, $\open$), where $X$ is an arbitrary set, and $\open$ a class of subsets of $X$, which satisfies the follows:
    \begin{itemize}
        \item $\emptyset \in \open$, and $X \in \open$.
        \item Let $(\Omega_i)_{i \in I}$ be a (possibly infinite) class of subsets of $X$, then $\bigcup_{i \in I} \Omega_i \in \open$.
        \item Let $(\omega_i)_{i \in I}$ be a finite class of subsets of $X$, then $\bigcap_{i \in I} \omega_i \in \open$.
    \end{itemize}
    Elements of $\open$ are called the \textbf{open sets}. $\open$ (as a class) gives the topology of $X$. 
\end{definition}

\begin{remark}
    If the topology of $X$ is clear, one often denotes the space by simply $X$. 
\end{remark}

\begin{definition}[Hausdorff Space]
    A topological space $(X, \open)$ is a \textbf{Hausdorff space} if for all $x, y \in X$ there exists $\Omega_x, \Omega_y \in \open$ s.t. $x \in \Omega_x, y \in \Omega_y$; and $\Omega_x \cap \Omega_y = \emptyset$.
\end{definition}

\begin{example}
    Choice of topology is very important. Consider the following examples:
    \begin{itemize}
        \item Consider $(\R, \open)$ where $\Omega \in \open$ if and only if for all $x \in \Omega$, there exists $\varepsilon \in \R$ s.t. $(x - \varepsilon, x + \varepsilon) \subseteq \Omega$. This space is Hausdorff as one could choose $\varepsilon_x = \varepsilon_y = \abs{x - y}/4$. This also illustrates why the intersection must be finite, as otherwise one could construct a converging sequence of $\varepsilon$, whose corresponding class of subsets intersecting to a closed interval.
        \item Consider $(\R, \open)$ to be the trivial topology, where $\open := \{\R, \emptyset\}$. Then the only subset in $\open$ containing $x$ and $y$ is $\R$, which implies that the space is not Hausdorff.
    \end{itemize}
\end{example}

\begin{definition}[Basis of a Topology]
    Let $(X, \open)$ be a topology space. Then a subset $\mathcal{B} \subseteq \open$ is a \textbf{basis of topology} $\open$ if for any $\Omega \in \open$ it can be expressed as union of elements in $\mathcal{B}$. If there exists such $\mathcal{B}$ s.t. it is countably infinite, then $X$ admits a \textbf{countable basis of topology}.
\end{definition}

\begin{proposition}
    $(\R, \open)$ with topology defined as in the first case in the example above admits a countable basis of topology.
\end{proposition}

\begin{proof}
    First consider $\mathcal{B} := \{(a, b) \mid a < b, a, b \in \R\}$. This gives a basis for the topology of $(\R, \open)$ in the sense of the first case above:
    \begin{itemize}
        \item \emph{Any union of elements in $\mathcal{B}$ is open.} Denote such union to be $\Omega$. By construction, for $x \in \R$ s.t. $x \in \Omega$, there exists $a_x < b_x$ s.t. $x \in (a_x, b_x)$. Then there exists $\varepsilon = \min\{x - a_x, b_x - x\} / 2$ that satisfies the definition.
        \item \emph{Any open subset of $\R$ can be expressed as a union of open intervals}. Recall that the union can be infinite. Now consider for $\Omega$ an open interval
        \[
            \Omega = \bigcup_{x \in \Omega} (x - \varepsilon_x, x + \varepsilon_x)
        \]
        where for each $x$, $\varepsilon_x$ is the corresponding radius s.t. the definition is satisfied; and for all $x \in \Omega$, $(\R \smallsetminus \Omega) \cap (x - 2\varepsilon_x, x + 2\varepsilon_x) \neq \emptyset$. By definition for all $x \in \Omega$ there exists such an interval that $x$ is in it.
    \end{itemize}
    Then consider $\mathcal{B}' := \{(a, b) \mid a < b, a, b \in \Q\}$. Since $\Q$ is dense in $\R$, for any $x' \in \R \cap \Omega$ there exists a sequence $(x_n)$ s.t. $\lim_{n \to \infty} x_n = x'$. Choose the sequence s.t. $\abs{x_n - x'} > 2\abs{x_{n+1} - x'}$. Suppose that for all $n$, $x' \notin (x_n - \varepsilon_{x_n}, x_n + \varepsilon_{x_n})$. Then there exists some $n_0$ s.t. $(x_{n+1} - \varepsilon_{x_{n+1}}, x_{n+1} + \varepsilon_{x_{n+1}}) \subsetneq (x_n, x')$ assuming $x_n < x'$ without loss of generality, which is a contradiction.

    Since $\Q \simeq \N \times \N$ which is countable, $\Q \times \Q$ is also countable, indicating that $\beta'$ gives a countable basis of topology on $\R$.
\end{proof}

\begin{remark}
    For $\R^n$, the \underline{standard topology} is defined as where a set $\Omega$ is open if and only if for every $x \in \Omega$ there exists $\varepsilon > 0$ s.t. $B_{\varepsilon}^n (x) \subseteq \Omega$. 
\end{remark}

\begin{corollary}\label{cor: R^n countable basis}
    By the same proof, and considering open intervals as $1$-balls on $\R^1$, this gives that $\R^n$ with the standard topology admits a countable basis of topology. 
\end{corollary}

\begin{definition}[Induced Topology]
    Let $(X, \open_X)$ be a topological space, and $Y \subseteq X$. Then there exists a definition for $\open_Y$ where $\Omega' \in \open_Y$ if and only if there exists $\Omega \in \open_X$ s.t. $\Omega' = \Omega \cap Y$. This is the \textbf{induced topology} on $Y$.
\end{definition}

\begin{definition}
    Let $(X_1, \open_1)$, $(X_2, \open_2)$ be topological spaces. Then
    \begin{itemize}
        \item A map $f: X_1 \to X_2$ is \textbf{continuous} if for all $\Omega \in \open_2$, $f^{-1}(\Omega) \in \open_1$. 
        \item A map $f: X_1 \to X_2$ is \textbf{homeomorphic} if it is invertible, and both $f$ and $f^{-1}$ are continuous. 
    \end{itemize}
\end{definition}

\begin{example}
    The map $f: [0, 2\pi) \to S^1, x \mapsto (\cos x, \sin x)$ is not homeomorphic, as for the arcs wrapped around the origin (e.g. $f([0, \pi/6) \cup (11\pi/6, 2\pi))$) the image is open, but the interval itself is not open.
\end{example}

\begin{definition}[Diffeomorphism]
    Let $\Omega_1, \Omega_2 \subseteq \R^n$ be open sets. Then a homeomorphism $f: \Omega_1 \to \Omega_2$ is a \textbf{diffeomorphism} if both $f$ and $f^{-1}$ are differentiable. Similarly one can consider $C^k$-diffeomorphism for $f$ and $f^{-1}$ being $k$-times differentiable.
\end{definition}

\begin{proposition}
    If $f$ is a diffeomorphism which is $n$-times differentiable, then $f^{-1}$ is also $n$-times differentiable.
\end{proposition}

\begin{proof}
    Proceed to prove this via induction on $k$:
    \begin{itemize}
        \item \emph{Base case}. For $k = 1$, this is by the definition of diffeomorphisms.
        \item \emph{Inductive step}. Suppose that this is proven for $k = m$. For $k = m+1 \leq n$, since $f$ is $C^n$-differentiable and locally injective everywhere, by inverse function theorem this gives
        \[
            g'(x) = (f'(g(x)))^{-1}
        \]
        where by hypothesis $f'$ and $g$ are both $C^m$-differentiable, and therefore so is their composition and $g'$.
    \end{itemize}
    This gives $g'$ is $C^{n-1}$-differentiable, which gives $g$ being $C^n$-differentiable.
\end{proof}

\begin{remark}
    A differentiable homeomorphism is not necessarily a diffeomorphism, as $f$ is not necessarily locally injective everywhere. Consider $f: x \mapsto x^3$ whose inverse is not differentiable at $0$. $f$ is not locally injective at 0.  
\end{remark}

\subsection{Differentiable Manifolds}

\begin{definition}[Manifold]
    An \textbf{$n$-dimensional topological manifold ($n$-manifold)} $M$ is a Hausdorff space with a countable basis of topology s.t. for every $p \in M$ there exists an open $U(p)$ s.t. there exists a homeomorphism $\varphi_p: U(p) \to \Omega \subseteq R^n$.
\end{definition}

\begin{definition}[Chart; Atlas; Compatibility]
    For the homeomorphisms defined as above, the pair $(U(p), \varphi_p)$ is an \textbf{$n$-dimensional (coordinate) chart}. An \textbf{atlas} is a set of charts whose domains $U(p)$ covers the whole space $M$, i.e. for all $r \in M$, there exists $p \in M$ s.t. the corresponding chart $(U(p), \varphi_p)$ satisfies $r \in U(p)$. 

    Given two $n$-charts $(U, \varphi)$ and $(V, \psi)$, a \textbf{change of chart} between the charts is a map
    \[
        \psi \circ \varphi^{-1} : \varphi(U \cap V) \to \psi(U \cap V) \in \{f \mid f: \R^n \to \R^n\}
    \]
    These two charts are \textbf{compatible} if the change of chart is a $C^{\infty}$-diffeomorphism. An atlas where all charts are compatible is a $C^{\infty}$-atlas.
\end{definition}

\begin{definition}[Smooth Manifold]
    An $n$-manifold is \textbf{smooth (differentiable)} if it admits a maximal $C^{\infty}$-atlas (as a set). 
\end{definition}

\begin{remark}
    Since the atlas is required to be $C^{\infty}$, it suffices to consider the equivalence class via specifying an atlas whose domains cover the whole manifold, and consider the atlas thus spanned. There exists manifolds that are not smooth (i.e. does not admit a $C^{\infty}$-atlas) if for all valid charts the maximal set of charts spanned by it does not cover the whole manifold.
    
    Under the context of smooth manifolds, one will not consider atlases that are not $C^{\infty}$, but instead consider this manifold as not having an atlas.
\end{remark}

The followings studies a particular example of manifolds:

\begin{definition}[Projective Space]
    Consider the equivalence relation for $x, y \in \R^{n+1}$ where $x \sim y$ if and only if there exists $\lambda \in \R$ s.t. $\lambda x = y$. The \textbf{$n$-dimensional real projective space} is defined as $\R^{n+1}/(\sim) =: P(\R^{n+1})$, which is often denoted as $\RP^n$.
\end{definition}

\begin{proposition}
    $\RP^n$ is a smooth $n$-manifold.
\end{proposition}

\begin{proof}
    To specify the manifold structure it suffices to give the topology together with an atlas. 

    First consider the \underline{quotient topology} of the projective space: let $\pi: \R^{n+1} \smallsetminus \{0\} \to \RP^n$ be the quotient map specified by the equivalence class each point represents. Define $\Omega' \subseteq \RP^n$ to be open if and only if $f^{-1}(\Omega')$ is open. The topology is indeed well-defined as $\pi$ commutes with both intersection and union of sets. This also implies that $\RP^n$ admits a countable basis of topology, as by Corollary \ref{cor: R^n countable basis} $\R^{n}$ is compact for all finite $n$.

    Further consider the charts given by
    \[
        \varphi_i: \RP^n \to \R^n, \qquad \overline{(x_1, \cdots, x_{n+1})} \mapsto \frac{1}{x_{i}} (x_1, \cdots, x_{i-1}, x_{i+1}, \cdots, x_{n})
    \]
    where $\varphi_i$ is defined for all $x \in X_i := \{x \in \RP^n \mid \forall\  \overline{(x_1, \cdots, x_{n+1})} \in [x], x_i \neq 0\}$. This is clearly open as for all $\tilde{x} \in X_i$, $B_{\tilde{x}_i/2}(\tilde{x}) \subseteq X_i$. Domains of $\varphi_i$s cover the whole space, as for any $y \in \RP^n$, every representative $\tilde{y}$ of $y$ must have at least some field $\tilde{y}_j$ that is nonzero. Then it is covered by the domain of $\varphi_j$. Change of charts is linear according to the construction above, and therefore is smooth.
\end{proof}

\begin{remark}
    $\RP^n$ is further compact, as it can be considered as $S^n / (\sim)$ where points sharing the same diameter are considered to be equivalent. The quotient topology implies that $\pi: \RP^n \to S^n / (\sim)$ is continuous. Therefore, $\RP^n$ is compact as $S^n$ is. 
    
    Notice that continuous maps preserve compactness. Let $f: M \to N$ be continuous. Then every open cover of $N$ corresponds to an open cover of $M$, which by compactness of $M$ gives a finite sub-cover $U$. Then $f(U)$ gives a finite open cover of $N$. 
\end{remark}

\begin{definition}[Submanifold]
    Let $N$ be a smooth $n$-manifold, and $\mathcal{A}$ be its atlas (which is $C^{\infty}$). Then an \textbf{$m$-dimensional submanifold} $M$ of $N$ is a subset $M$ of $N$ s.t. for all $p$ there exists a chart $(U, \varphi_p)$ which is in some maximal atlas of $N$ s.t.
    \[
        M \cap U(p) = \varphi^{-1}(\varphi(U) \cap (\R^m \times \{0\}))
    \] 
    Then $(U \cap M, \restr{\varphi_p}{M})$ is called the \textbf{adapted chart}; and $(n - m)$ is the \textbf{codimension} of $M$ in $N$.
\end{definition}

\begin{remark}
    Every submanifold is in itself a manifold, as restriction of topology preserves Hausdorff property and a countable basis of topology.
\end{remark}

\begin{definition}[Smooth Maps]
    Consider smooth maps in general between smooth manifolds:
    \begin{itemize}
        \item Let $(M, \mathcal{A})$ and $(N, \mathcal{A}')$ be two smooth manifolds. Then $F: M \to N$ is \textbf{smooth} if for $(U, \varphi_p) \in \mathcal{A}$ and $(V, \varphi_{F(p)}') \in \mathcal{A}'$ the map
        \[
            \varphi_{F(p)}' \circ F \circ \varphi_P^{-1} : \varphi_P(U \cap F^{-1}(V)) \to \varphi_{F(p)}' (F(U) \cap V)
        \]
        is smooth as an endomorphism on $\R^n$.
        \item Let $I \subseteq \R$ be an interval. Then a \textbf{smooth curve} on $M$ is a curve with a parameterization $\gamma: I \to M$ that is smooth (considered as a map between manifolds). 
        \item $f: M \to \R$ is a \textbf{smooth function} if $f$ is smooth as a map between manifolds. Smooth functions on $M$ are denoted by $C^{\infty}(M)$.
    \end{itemize}
\end{definition}

\begin{definition}
    If $F: M \to N$ is smooth, with $F^{-1}$ exists and is smooth, then $F$ is a \textbf{diffeomorphism}, with $M$ and $N$ \textbf{diffeomorphic}. Diffeomorphisms that are endomorphisms on $M$ are denoted as $\Diff(M)$, or $\Diffeo(M)$.
\end{definition}

In the next section, more details of smooth manifolds will be discussed, which will lead to natural (and general) construction of submanifolds.

\subsection{Tangent Space and the Differential}

It is then immediate to try to approximate functions between manifolds, just as those over real vector spaces. This requires some constructions beforehand:

\begin{definition}[Parameterized Surface]
    A \textbf{(smooth) parameterized $m$-surface} in $\R^n$ is a subset $\mathcal{S} \subseteq \R^n$ s.t. there exists a locally bijective, continuously differentiable map $\sigma: \Omega \to \mathcal{S}$ for $\Omega \subseteq \R^m$ s.t. $\rank \restr{D\sigma}{x} = m$ almost everywhere. For $x$ satisfying such conditions, $f(x) \in \mathcal{S}$ is called a \textbf{regular value}.
\end{definition}

\begin{definition}[Tangent Vector, Tangent Space (in $\R^n$)]
    Let $\mathcal{S} \subseteq \R^n$ be a smooth parameterized $m$-surface, together with the parameterization $\sigma: \R^m \supseteq \Omega \to \mathcal{S}$. The \textbf{$k$-th tangent vector at $p \in \mathcal{S}$} is given by
    \[
        t_k(p) = \restr{\ppd{x_k} \begin{pmatrix} \sigma_1(x) \\ \vdots \\ \sigma_n(x) \end{pmatrix}}{x = \sigma^{-1}(p)}
    \]
    and the \textbf{tangent space} to $\mathcal{S}$ at $p$ is defined as
    \[
        T_p \mathcal{S} := \linspan\{ t_1(p), \cdots, t_m(p)\}
    \]
    with the elements of the tangent space \textbf{tangent vectors} to $\mathcal{S}$ at $p$.
\end{definition}

It is then natural to extend the definition to submanifolds:

\begin{definition}[Tangent Space (as Submanifolds)]\label{def: tangent space in R^n}
    Let $M \subseteq \R^n$ be a $m$-manifold. Let $p \in M$ together with a chart $(U, \varphi)$ satisfying that $p \in U$. Then the \textbf{tangent space of $M$ at $p$} is defined as
    \[
        T_pM := (\restr{D\varphi}{p})^{-1}(\R^m \times \{0\})
    \]
\end{definition}

\begin{remark}
    Notice that the tangent space defined as above is independent of the choice of chart. Inverse Function Theorem gives $(\restr{D\varphi}{p})^{-1} = \restr{D\varphi^{-1}}{\varphi(p)}$. Let $(V, \psi)$ be another chart s.t. it is compatible with $(U, \varphi)$. This allows expanding the chart using the chain rule:
    \begin{align*}
        \im \restr{D(\varphi^{-1})}{\varphi(p)}
        & = \im \restr{D(\psi^{-1} \circ \psi \circ \varphi^{-1})}{\varphi(p)} \\
        & = \im \restr{D\psi^{-1}}{\psi(p)} \cdot \restr{D(\psi \circ \varphi^{-1})}{\varphi(p)}
    \end{align*}
    Since both $\psi$ and $\varphi$ are invertible, $\psi \circ \varphi^{-1}$ are locally bijective, which implies that $\im \restr{D(\varphi^{-1})}{\varphi(p)} = \im \restr{D(\psi^{-1})}{\psi(p)}$
\end{remark}

\begin{remark}
    Notice that the definition above requires the existence of an ``ambient space'' around the manifold ($\R^n$), as this characterizes elements in $T_pM$ (as elements in $\R^n$).
\end{remark}

\begin{definition}[Coordinate Function, Directional Derivative]
    The \textbf{coordinate function} of standard coordinates $x^i$ is the extraction of $i$-th coordinate:
    \[
        x^i : \R^n \to \R, \qquad (x_1, \dots, x_n) \mapsto x_i
    \]
    This immediately gives the \textbf{coordinate function of chart ($U, \varphi$)} to be
    \[
        \varphi^i: M \to R, \qquad \varphi^i := x^i \circ \varphi
    \]
    Then, for a function $f: M \to \R^n$, one can naturally define the \textbf{directional derivative} (in the only way that is syntactically true):
    \[
        \restr{\pp{}{\varphi^i}}{p} (f) = \restr{\pp{f}{\varphi^i}}{p} := \restr{\pp{(f \circ \varphi^{-1})}{x^i}}{\varphi(p)}
    \]
    where the right-most term is simply the partial differentiation of functions between Euclidean spaces.
\end{definition}

The following forms an ``standalone'' definition, which turns out to be compatible with the definition above under the context of submanifolds.

\begin{definition}[Tangent Vector (Standalone)]
    Let $M$ be a smooth $n$-manifold, with $p \in M$. Then
    \begin{enumerate}[label=\roman*)]
        \item An \textbf{algebraic tangent vector (as derivatives)} is defined as a linear map $\partial: C^{\infty}(M) \to \R$ where $C^{\infty}(M)$ is defined as the smooth functions $M \to \R$, which satisfies the product rule (Leibniz rule):
        \[
            \forall f, g \in C^{\infty}(M), \qquad \partial(f \cdot g) = (\partial f) \cdot g + f \cdot (\partial g)
        \]
        \item A \textbf{physical tangent vector} associated to a chart $(U, \varphi)$ where $p \in \varphi$, which is essentially a transformation into $\R^n$ (as in the previous case where the tangent space is treated as a submanifold of $\R^n$), is defined as a vector $v_{\varphi} \in \R^n$, satisfying the compatibility of change of charts: for all charts $(V, \psi)$ s.t. $p \in V$,
        \[
            v_{\psi} = \restr{D(\psi \circ \varphi^{-1})}{\varphi(p)} \cdot v_{\varphi}
        \]
        Expressed in each coordinate, the transformation essentially becomes the directional derivative
        \[
            v_{\psi}^i = \sum_{k = 1}^n \restr{\pp{(\psi \circ \varphi^{-1})}{x^k}}{\varphi(p)} (v_{\varphi}^k) = \sum_{k=1}^n \restr{\pp{\psi}{\varphi^k}}{p} (v_{\varphi}^k)
        \]
        \item A \textbf{geometric tangent vector}, or a \textbf{tangent curve} at $p$ is an equivalence class of smooth curves $\gamma: I \to M$, s.t. $0 \in I \subseteq R$, and $\gamma(0) = p$; and for $p$ supported by the chart $(U, \varphi)$ the equivalence relation given by
        \[
            \gamma_1 \sim \gamma_2 \quad \iff \quad (\varphi \circ \gamma_1)'(0) = (\varphi \circ \gamma_2)'(0)
        \]
    \end{enumerate}
    It will be shown later that all these three definitions are equivalent.
\end{definition}

\begin{remark}\label{rmk: geometric tangent vector independent of chart}
    The definition of algebraic tangent vectors is completely unrelated to the charts. The equivalence relation defined in geometric tangent vector is also independent of the chart, as for a different chart $(V, \psi)$ s.t. $p \in V$,
    \begin{align*}
        (\psi \circ \gamma_1)'(0) 
        & = (\psi \circ \varphi^{-1} \circ \varphi \circ \gamma_1)'(0) \\
        & = (\psi)'(\gamma_1(0)) \cdot (\varphi^{-1})'(\varphi \circ \gamma_1(0)) \cdot (\varphi \circ \gamma_1)'(0) \\
        & = (\psi)'(p) \cdot (\varphi^{-1})'(\varphi(p)) \cdot (\varphi \circ \gamma_1)'(0) \\
        & = (\psi)'(\gamma_2(0)) \cdot (\varphi^{-1})'(\varphi \circ \gamma_2(0)) \cdot (\varphi \circ \gamma_2)'(0) \\
        & = (\psi \circ \gamma_2)'(0)
    \end{align*}
\end{remark}

\begin{theorem}
    The definition of previous three tangent vectors are equivalent. That is, given any one of them, the other two can be uniquely determined.
\end{theorem}

\begin{proof}
    It suffices to give the construction of the corresponding tangent vectors:
    \begin{itemize}
        \item \emph{i) \implies ii).} Given an algebraic tangent vector $\partial: C^{\infty}(M) \to \R$, for $p \in U \cap V$ where $(U, \varphi)$ and $(V, \psi)$ are two charts of $M$, define
        \[
            v_{\varphi}^i := \partial(\varphi^i)
        \]
        Check that this satisfies the compatibility requirement: 
        \begin{align*}
            v_{\psi}^i
            & = \partial(\psi^i) = \partial((\psi^i \circ \varphi^{-1}) \circ \varphi) \\
            & \overset{1}{=} \sum_{j=1}^n \partial(\psi^i \circ \varphi^{-1} \circ \varphi^j) \\
            & \overset{2}{=} \sum_{j=1}^n \restr{\pp{(\psi^i \circ \varphi^{-1})}{x^i}}{\varphi(p)} v_{\varphi}^j
        \end{align*}
        where equality 1 holds by the linearity of $\partial$; and equality 2 is essentially the chain rule applied to derivation, which is determined by the requirement that the Leibniz rule holds. This is exactly the form required.
        \item \emph{ii) \implies i).} For any instance $v_{\varphi}$ as a physical tangent vector under chart $(U, \varphi)$, define
        \[
            \partial := \sum_{i=1}^n v_{\varphi}^i \restr{\pp{}{\varphi^i}}{p}
        \]
        Check the followings:
        \begin{itemize}
            \item \emph{$\partial$ is well-defined, i.e. does not depend on the choice of chart.} Expand using the definition of directional derivatives and transition between charts of physical tangent vectors, we have for all $f \in C^{\infty}(M)$,
            \begin{align*}
                \partial(f)
                & := \sum_{i = 1}^n v_{\varphi}^i \cdot \restr{\pp{}{\varphi^i}}{p}(f) = \sum_{i = 1}^n \restr{\pp{(f \circ \varphi^{-1})}{x^i}}{\varphi(p)} (f) \\
                & = \sum_{i = 1}^n \restr{\pp{(f \circ (\varphi^i)^{-1})}{x^i}}{\varphi(p)} (f) \\
                & \overset{1}{=} \sum_{i = 1}^n \left( \left( \sum_{j=1}^{n} \restr{\pp{(\varphi^i \circ \psi^{-1})}{x^j}}{\psi(p)} v_{\psi}^j \right) \cdot \restr{\pp{(f \circ (\varphi^i)^{-1})}{x^i}}{\varphi(p)} (f) \right) \\
                & \overset{2}{=} \sum_{j = 1}^{n} \left( v_{\varphi}^j \left( \sum_{i = 1}^{n} \restr{\pp{(\varphi^i \cdot \psi^{-1})}{x^j}}{\psi(p)} \right) \cdot \restr{\pp{(f \circ (\varphi^i)^{-1})}{x^i}}{\varphi(p)} (f) \right) \\
                & \overset{3}{=} \sum_{j = 1}^{n} \left( v_{\varphi}^j \cdot \restr{\pp{(\varphi^j \circ \psi^{-1})}{x^j}}{\psi(p)} \cdot \restr{\pp{(f \circ (\varphi^i)^{-1})}{x^j}}{\varphi(p)} (f) \right) \\
                & = \sum_{j = 1}^n v_{\varphi}^j \cdot \restr{\pp{(f \circ \psi^{-1})}{x^j}}{\psi(p)} (f) = \sum_{i = 1}^n v_{\psi}^i \cdot \restr{\pp{}{\psi^i}}{p}(f)
            \end{align*}
            where
            \begin{enumerate}
                \item Equality 1 holds by the definition of the transition between physical tangent vectors.
                \item Equality 2 holds by changing the summation between $i$ and $j$. Notice that $\restr{\pp{(\varphi^i \cdot \psi^{-1})}{x^j}}{\psi(p)}$ is a scalar, while applying it to $v_{\psi}^j$ is simply multiplication. 
                \item Equality 3 holds as the variables $x^i$ and $x^j$ are independent for $i \neq j$. Therefore the summation can be simplified to be only with one variable.
            \end{enumerate}
            \item \emph{Leibniz rule holds.} This is simply the product rule of normal derivatives.
        \end{itemize}
        \item \emph{ii) \implies iii).} Let $p$ be in the support of chart $(U, \varphi)$. Define the curve to be $\gamma_{\varphi} (t) := \varphi^{-1}(\varphi(p) + t \cdot v_{\varphi})$. Check: $\gamma_{\varphi}(0) = \varphi^{-1}(\varphi(p)) = p$. By Remark \ref{rmk: geometric tangent vector independent of chart}, the equivalence class thus defined is independent of the chart chosen.
        \item \emph{iii) \implies ii).} Given an equivalence class of curves on $M$ $[\gamma]$, define the physical tangent vector associated to a chart $(U, \varphi)$ supporting $p$ to be
        \[
            v_{\varphi} := (\varphi \circ \gamma)'(0)
        \]
        Check that this satisfies the transition function as defined for physical tangent vectors: by chain rules we have
        \begin{align*}
            v_{\psi}
            & := (\psi \circ \gamma)'(0) \\
            & = (\psi \circ (\varphi^{-1} \circ \varphi) \circ \gamma)'(0) \\
            & = (\psi \circ \varphi^{-1})'(\varphi \circ \gamma(0)) \cdot (\varphi \circ \gamma)'(0) \\
            & = \restr{D(\psi \circ \varphi^{-1})}{\varphi(p)} \cdot \restr{D(\varphi \circ \gamma)}{0} \\
            & = \restr{D(\psi \circ \varphi^{-1})}{\varphi(p)} \cdot v_{\varphi}
        \end{align*}
    \end{itemize}
\end{proof}

Recall that in Definition \ref{def: tangent space in R^n} which is under the context of $\R^n$, the tangent space is naturally a subspace of $\R^n$, with dimension equal to $m$, as $\varphi$ is locally bijective. We now seek to verify this property holds in the independently defined tangent space.

\begin{theorem}\label{thm: dim of tangent space}
    Let $M$ be a $n$-manifold, with $p \in M$ in the support of chart $(U, \varphi)$. Then the tangent vectors $\left\{ \restr{\pp{}{\varphi^1}}{p}, \dots, \restr{\pp{}{\varphi^1}}{n} \right\}$ gives a basis of $T_pM$. This is the \underline{standard basis of $T_pM$ w.r.t. chart $(U, \varphi)$}. In particular, $\dim T_pM = \dim M$.
\end{theorem}

\begin{lemma}\label{lem: approx of f at p}
    Let $M$ be a $n$-manifold, with a chart $(U, \varphi)$ s.t. $p \in U$. Then in some neighborhood around $p$
    \[
        f = f(p) + \sum_{i = 1}^{n} (\varphi^i - \varphi^i(p)) \cdot f_i
    \]
    where $f_i := \pp{f}{\varphi^i}$.
\end{lemma}

\begin{proof}
    Define $g := f \circ \varphi^{-1}$. Then by the Fundamental Theorem of Calculus
    \begin{align*}
        g(x) - g(x_0) 
        & = \int_{0}^{1} \dd{}{t} g(t x + (1 - t) x_0) \d t \\
        & = \sum_{i = 1}^{n} (x^i - x_0^i) \int_{0}^{1} \pp{}{x^i} g(t x + (1 - t) x_0) \d t
    \end{align*}
    Define
    \[
        g_i(x) = \int_{0}^{1} \pp{}{x^i} g(t x + (1 - t) x_0) \d t
    \]
    Then the equality above becomes
    \[
        g(x) - g(x_0) = \sum_{i = 1}^{n} (x^i - x_0^i) g_i(x)
    \]
    Apply composition on the right by $\varphi$ gives the desired form. Check that $f_i$ is indeed given by such form:
    \[
        f_i(x) = \int_{0}^{1} \pp{}{x^i} g(t \varphi(x) + (1 - t) \varphi(x_0)) \d t = (x^i - x_0^i)^{-1} \left( \int_{0}^{1} \dd{}{t} g(t x + (1 - t) x_0) \d t \right)
    \]
    which is exactly the definition of $\pp{f}{\varphi^i} := \pp{f \circ \varphi^{-1}}{x^i}$.
\end{proof}

\begin{proof}[Proof of Theorem \ref{thm: dim of tangent space}]
    It suffices to check that the tangent vector $T_p := \left\{ \restr{\pp{}{\varphi^1}}{p}, \dots, \restr{\pp{}{\varphi^1}}{n} \right\}$ are linearly independent, and span the whole tangent space:
    \begin{itemize}
        \item \emph{$T_p$ spans $T_p M$.} For $v \in T_pM$, by Lemma \ref{lem: approx of f at p} we have
        \begin{align*}
            v(f)
            & = v\left( f(p) + \sum_{i = 1}^{n} (\varphi^i - \varphi^i(p)) f_i \right) \\
            & = v(f(p)) + \sum_{i = 1}^{n} v \left( (\varphi^i - \varphi^i(p)) f_i \right) \\
            & = 0 + \sum_{i = 1}^{n} (v(\varphi^i) f_i + \restr{(\varphi^i - \varphi^i(p))}{p} v(f_i)) \\
            & = \sum_{i = 1}^{n} (v(\varphi^i) f_i) = \sum_{i = 1}^{n} v(\varphi^i) \restr{\pp{f}{\varphi^i}}{p}
        \end{align*}
        by the product rule and linearity of $v$, as is in the definition of algebraic tangent vectors.
        \item \emph{$T_p$ are linearly independent.} Since $\varphi^i := x^i \circ \varphi$, $\pp{\varphi^i}{\varphi^j} = \delta_j^i$ which is 1 if $i = j$; and is 0 otherwise. Written more explicitly, for $\lambda_1, \lambda_2 \in \R$,
        \[
            \lambda_1 \restr{\pp{}{\varphi^i}}{p} + \lambda_2 \restr{\pp{}{\varphi^j}}{p} = 0 \implies 
            \lambda_1 = \lambda_1 \restr{\pp{}{\varphi^i}}{p} \varphi^i + \lambda_2 \restr{\pp{}{\varphi^j}}{p} \varphi^i = 0 \implies \lambda_1 = 0
        \]
        and the same works for $\lambda_2$, or the case with multiple elements from the basis.
    \end{itemize}
\end{proof}

\begin{definition}
    The coefficients of decomposition of $v \in T_pM$ under chart $(U, \varphi)$, $\xi^i := v(\varphi^i)$, is the \textbf{principal part} of $v$ w.r.t. $\varphi$.
\end{definition}

\begin{corollary}
    The change of principal parts $(\xi^i), (\eta^i)$, specified w.r.t. charts $(U, \varphi), (V, \psi)$, is given by
    \[
        \eta^i = \sum_{j = 1}^{n} \restr{\pp{\psi^j}{\varphi^i}}{p} \xi^j
    \]
\end{corollary}

\begin{proof}
    This is given directly by applying the chain rule. For $v \in T_pM$, express in two ways:
    \[
        v = \sum_{i = 1}^{n} \xi^i \restr{\pp{}{\varphi^i}}{p} = \sum_{i = 1}^{n} \xi^i \sum_{j = 1}^{n} \restr{\pp{\psi^i}{\varphi^j}}{p} \restr{\pp{}{\psi^i}}{p}
    \]
    while on the other hand
    \[
        v = \sum_{j = 1}^{n} \eta^j \restr{\pp{}{\psi^j}}{p}
    \]
    Since $\left\{ \restr{\pp{}{\varphi^1}}{p}, \dots, \restr{\pp{}{\varphi^1}}{n} \right\}$ gives a basis of $T_pM$, all the coefficients must be equal, which yields the transformation.
\end{proof}

\begin{definition}[Tangent Bundle]
    Let $M$ be an $n$-manifold. Then the \textbf{tangent bundle} is the disjoint union of all tangent spaces, namely
    \[
        TM := \coprod_{p \in M} T_p M := \{(p, v) \mid p \in M, v \in T_p M\}
    \]
    The map $\pi: TM \to M, (p, v) \mapsto p$ is the \textbf{(base) projection}.
\end{definition}

\begin{proposition}
    $TM$ has a well-defined induced topology which makes it a manifold; and for a smooth atlas $\mathcal{A}$, this induces a smooth atlas
    \[
        \mathcal{A}^{TM} := \left\{ \left( \coprod_{p \in U} T_pM, \d \varphi \right) \mid (U, \varphi) \in \mathcal{A} \right\}
    \]
    where
    \[
        \d \varphi : \coprod_{p \in M} T_p M \to \varphi(U) \times \R^n \subseteq \R^{2n}, \qquad (p, v) \mapsto (\varphi(p), v_{\varphi}) 
    \]
    with $v_{\varphi}$ is the physical tangent vector defined under chart $(U, \varphi)$.
\end{proposition}

\begin{proof}
    First check that the induced topology gives a manifold. The natural choice for the induced definition on open sets is by $\d\varphi$. Define $\Omega \in TM$ to be open if and only if for all $(U, \varphi)$ compatible with the smooth atlas $\mathcal{A}$, $\d\varphi(\Omega \cap \coprod_{p \in U} T_pM) \subseteq \R^{2n}$ is open in $\R^{2n}$. By Corollary \ref{cor: R^n countable basis}, this gives the Hausdorff property, and the fact that it has a countable basis.

    Further verify that the induced transition between charts is smooth in $TM$. For $(U, \varphi), (V, \psi)$ two charts compatible with $\mathcal{A}$, the induced transition on the tangent bundle
    \[
        \d\psi \circ \d \varphi^{-1} := (\psi \circ \varphi^{-1}, D(\psi \circ \varphi^{-1}))
    \]
    $(U, \varphi)$ and $(V, \psi)$ being compatible gives that $\psi \circ \varphi^{-1}$ is smooth; and this gives that the differential of them $D(\psi \circ \varphi^{-1})$ is smooth.
\end{proof}

\begin{definition}[Differential]
    For a smooth map $F: M \to N$, it naturally induces a differential map between the corresponding tangent bundles $\d F : TM \to TN$. The instantiation at $p \in M$ is given by $\d_p F: T_pM \to T_{F(p)}N$, defined as follows:
    \begin{itemize}
        \item For $\partial \in T_p M$ an algebraic tangent vector, for all $f \in T_{F(p)} N \subseteq C^{\infty}(N)$, the differential is defined as 
        \[
            \d_p F (\partial) (f) := \partial(f \circ F)
        \]
        \item For $v \in T_p M \subseteq \R^n$ a physical tangent vector, for $(U, \varphi)$ a chart supporting $p$, and $(V, \psi)$ a chart supporting $F(p)$, the differential is defined as
        \[
            (\d_p F(v))_{\varphi, \psi} := \restr{D(\psi \circ F \circ \varphi^{-1})}{\varphi(p)} v_{\varphi}
        \]
        where the domain is restricted to the intersection of all valid domains for each map in the composition.
        \item For $[\gamma] \in T_p M$ a geometric tangent vector, with $\gamma : \R \supseteq I \to M$, the differential is defined as
        \[
            \d_p F([\gamma]) = [F \circ \gamma]
        \]
    \end{itemize}
\end{definition}

\begin{proposition}
    The differential, defined as above under the context of physical and geometric tangent vectors, is well-defined.
\end{proposition}

\begin{proof}
    Check the well-definedness of physical and geometric tangent vectors respectively:
    \begin{itemize}
        \item \emph{Physical tangent vector.} Since $F$ is smooth, and the charts are smooth in them self, $\psi \circ F \circ \varphi^{-1}$ is smooth. The transition function it therefore also smooth, and is compatible with the definition.
        \item \emph{Geometric tangent vector.} Let $[\gamma_1] = [\gamma_2]$. For $(U, \varphi)$ a chart s.t. $p \in U$, and $(V, \psi)$ a chart s.t. $F(p) \in V$, apply the chain rule:
        \begin{align*}
            (\psi \circ F \circ \gamma_1)'(0)
            & = (\psi \circ F \circ \varphi^{-1} \circ \varphi \circ \gamma_1)'(0) \\
            & = (\psi \circ F \circ \varphi^{-1})'(\varphi \circ \gamma_1(0)) \cdot (\varphi \circ \gamma_1)'(0) \\
            & = (\psi \circ F \circ \varphi^{-1})'(\varphi(p)) \cdot (\varphi \circ \gamma_1)'(0) \\
            & = (\psi \circ F \circ \varphi^{-1})'(\varphi \circ \gamma_2(0)) \cdot (\varphi \circ \gamma_2)'(0) \\
            & = (\psi \circ F \circ \gamma_2)'(0)
        \end{align*}
        which implies that the family of curves thus determined is independent of the choice of the representative. 
    \end{itemize}
\end{proof}

\begin{remark}
    In particular, choose $F = \Id_M$ gives $\d F = \Id_{TM}$, by the composition rule specified above. Notice that in the case for physical tangent vectors, it is valid to choose $\varphi = \psi$ as we are in the same space.
\end{remark}

\begin{remark}
    For $G: M \to N$, $F : N \to P$ smooth maps between manifolds, $\d (F \circ G) = \d F \circ \d G$. As three definitions are equivalent, it suffices to check for one of them. This is straightforward for the geometric definition, as
    \[
        \d_p (F \circ G)([\gamma]) = [G \circ F \circ \gamma] = [G \circ (F \circ \gamma)] - \d_{G(p)}(F) \circ \d_pG([\gamma])
    \] 
\end{remark}

\section{Differential Form}

This part seeks to introduce the differential between tangent bundles of manifolds, and its dual operation. To formalize this, some preliminaries from algebra need to be introduced first:

\begin{definition}[Tensor Algebra]
    Let $R$ be a ring, with $M$ an $R$-module. Then the \textbf{tensor algebra} on $M$ is defined to be
    \[
        T(M) := \bigoplus_{i \geq 0} T^i(M) \qquad\text{where } T^i(M) := \underbrace{M \tensor_R \cdots \tensor_R M}_{i \text{ times}}
    \]
\end{definition}

\begin{definition}[Exterior Algebra]
    Let $T(M)$ be the tensor algebra on $M$. Then the \textbf{exterior algebra} on $M$ is defined as
    \[
        \Lambda(M) := T(M) / I , \qquad \text{where } I := \left\{ \inner{x \tensor x} \mid x \in M \right\}
    \]
    The equivalence classes in $\Lambda(M)$ is denoted by the \underline{wedge prduct}, i.e.
    \[
        a \wedge b := [a \tensor b] = (a \tensor b) \mod I
    \]
\end{definition}

\begin{remark}
    By the quotient applied to the tensor algebra, it is alternative. Specifically, for all $x, y \in M$, $x \wedge x = 0$; and $x \wedge y = -y \wedge x$.
\end{remark}

\begin{remark}
    Similar to the tensor algebra, the exterior algebra can be decomposed as
    \[
        \Lambda(M) = \bigoplus_{i \geq 0} \Lambda^i(M), \qquad \text{where } \Lambda^i(M) := T^i(M) / \{ \inner{x \tensor x} \subset T^i M \mid x \in M \}
    \]
\end{remark}

\begin{definition}[Tangent Space]
    There are two equivalent definitions of tangent spaces, via specifying its elements \textbf{tangent vectors}. Let $M$ be a smooth $n$-manifold, with $(U, \varphi)$ a local chart of it. Then the \textbf{tangent space} of $M$ at $p$ is defined as:
    \begin{itemize}
        \item \emph{Tangent vectors as equivalence class of curves.} Let $\gamma: R \supset I \to M$ be a curve on $M$. Define the equivalence class of such curves as
        \[
            \gamma_1 \sim \gamma_2 \quad \iff \quad (\varphi \circ \gamma_1)'(0) = (\varphi \circ \gamma_2)'(0)
        \]
        The \textbf{tangent vector}s are then equivalence classes of curves on $M$. 
        
        Considering the map $(\varphi \circ -)'(0) : T_p M \to \R^n$, which by the definition of the equivalence relation is a bijection. The vector space structure is then induced by the vector space structure in $\R^n$.
        \item \emph{Tangent vectors as derivation.} Denote $f: M \to \R$ as $\smooth(M)$ if $f$ is smooth, i.e. for chart of $M$ $(U, \varphi)$ and $p \in U$, then in the neighborhood of $p$, $f \circ \varphi$ is smooth as maps from $\R^n$ to itself. Then a \textbf{tangent vector} is a map $\partial: \smooth(M) \to \R$ s.t.
        \[
            \forall f, g \in \smooth(M), \qquad \partial (f \cdot g) = \partial(f) \cdot g + f \cdot \partial(g)
        \]
        i.e. the \underline{Leibniz Identity}. The multiplication $\cdot$ is the multiplication in $R$ after applying the map. The vector spae structure is specified via requiring the functions to be linear, i.e. define
        \[
            \partial(\lambda f + \mu g) = \lambda \cdot \partial(f) + \mu \cdot \partial(g), \qquad \forall f, g \in \smooth(M), \lambda,\ \mu \in \R
        \]
    \end{itemize}
\end{definition}

\begin{definition}[Cotangent Space]
    The \textbf{cotangent space}, as the dual of tangent space, is defined similarly in two equivalent ways:
    \begin{itemize}
        \item \emph{Explicitly as dual of tangent space.} For $p \in M$ which is a smooth $n$-manifold, the \textbf{cotangent vectors} $\dual{T_p} M := \dual{(T_p M)}$ are \emph{linear} functions $T_p M \to \R$ (under the context of real manifolds). The cotangent space is generated by the cotangent vectors, with the vector space structure induced by the real vector space.
        \item \emph{Equivalence class of smooth functions.} Let $f, g \in \smooth(M)$. Then for $p \in M$, 
        \[
            f \sim g \quad \iff \quad \restr{D(f - g)}{p} = 0
        \]
        The cotangent space consists of equivalence class of such smooth functions. The vector space structure is the same as that of real functions.
    \end{itemize}
\end{definition}

\begin{remark}
    In the second definition for cotangent space, this is exactly the dual of the second definition of tangent spaces. This can be seen by the fact that if two functions are in the same equivalence, the derivation on them should be identical.
\end{remark}

\begin{definition}[Differential Form]
    Let $M$ be a manifold, with $U$ an open subset of $M$. Then a \textbf{$\bm{k}$-form} on $U$ is a map which associates every $p \in U$ an element in the exterior algebra $\omega_p \in \Lambda^k(\dual{T_p} M)$
\end{definition}

\begin{remark}
    In particular, cotangent vectors are $1$-forms.
\end{remark}

\begin{remark}
    By the universal property of tensor product, for $\wedge^k(M)$ we have the isomorphism
    \[
        \dual{(w_1 \wedge \dots \wedge w_k)} \simeq \dual{w_1} \wedge \dots \dual{w_k}
    \]
    i.e. there is an induced isomorphism between tensor of $1$-forms and $k$-forms, via taking the tensor product of the $1$-forms.
\end{remark}

\begin{definition}[Pushforward, Pullback]
    Let $F: M \to N$ be a smooth map between manifolds, and $p \in M$. Then
    \begin{itemize}
        \item The \textbf{pushforward (differential)} of $F$ at $p$ is defined as
        \[
            \d_p F: T_p M \to T_{F(p)} N, \qquad \d_p F (\partial) (\varphi) = \partial(\varphi \circ F)
        \]
        for $\partial \in T_p M \simeq (\smooth(M) \to \R), \varphi \in \smooth(M)$.
        \item The \textbf{pullback} of $F$ at $p$ is defined on the \underline{covector field}, or \underline{linear forms}, defined as 
        \[
            \dual{(\d_p F)}: \dual{T_{F(p)}}N \to \dual{T_p} M, \qquad \dual{(\d_p F)}(f)(\partial) = f(\d_p F(\partial))
        \]
        where $f \in \dual{T_{F(p)}} N, \partial \in T_p M$.
    \end{itemize}
\end{definition}

\begin{definition}[Immersion, Submersion]
    The following is a pair of dual notions which specifies the differential pushforward of a smooth map $f: M \to N$:
    \begin{itemize}
        \item $f$ is an \textbf{immersion} if for all $p \in M$, $d_p f : T_p  M \to T_{f(p)} N$ is injective.
        \item $f$ is a \textbf{submersion} if for all $p \in M$, $d_p f : T_p  M \to T_{f(p)} N$ is surjective.
    \end{itemize}
\end{definition}

\section{Exterior Derivative}

\section{Vector Field}

\section{Lie Group and Lie Algebra}

\end{document}